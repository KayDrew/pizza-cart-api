<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pizza Cart With API</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/all.min.css">
  <script src="./js/all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>

<body>

  <div x-data="order">
    <div class="clock">
      <i id="clockIcon" class="fa-solid  fa-clock" x-on:click="displayHistory"></i>
    </div>
    <div class="icon">
      <p id="itemCount" x-text="totalItems">
      </p>
    </div>

    <div class="icon">
      <i id="icon" class="fa-solid fa-cart-shopping" x-on:click="displayCart"></i>
    </div>
    <h1 id="heading">Perfect Pizza</h1>

 <div class="cart"  x-show="showCart">
		<h2 style="text-align:center; padding-top:20px; padding-bottom: 30px;font-family:monospace; font-size:1.8em;">Your Cart</h2>
		  <template x-for="pizza in cartPizzas">
        <table>
          <tr>
            <td x-text="pizza.flavour"></td>
            <td x-text="pizza.size"></td>
                           <td> <button id="add" @click="buy(pizza.pizza_id)">+</button></td>
                           
                              <td x-text="pizza.qty"></td>  
 <td> <button id="remove" @click="remove(pizza.pizza_id)">-</button></td>
                          
            <td x-text="pizza.price"></td>
           
          </tr>

        </table>

      </template>
		<span x-show="showCheckout">Amount Due: R</span><span  id="total"  x-text="cartTotal"  x-show="showCheckout"></span>
		<p x-show="empty">Your Cart Is Empty</p>
		<button class="checkout" x-show="empty" @click="showMenu=true; showCart=false">Shop Items</button><br/>
		<button id="checkout" x-show="showCheckout" @click="checkoutClicked">Checkout</button>
		<p x-text="message" style="color:red"></p>
		  <input  id="amountPaid" type="Number" placeholder="enter cash amount" x-model="amount" x-show="showInput"/>
  <button class="pay"  @click="pay; setTimeout(function(){
message='';},3000)"  x-show="showInput">Pay</button>
    </div>
    
    <div class="orderHistory" x-show="showHistory">
<h2>Your Order History</h2>
<template x-for="order in pastOrders">
<p><span x-text="order.flavour"> </span> <span x-text="order.size">  </span> @<span x-text="order.price"></span></p>
</template>
<button id="back" @click="displayHistory">Back</button>
</div>
    	
<div class="menu" x-show="showMenu">
    
      <template x-for="pizza in featuredPizzas">
        <div class="pizza featured">
        	<img src="pizza1.png"/>
          <h2 x-text="pizza.flavour"></h2>
          <h3 x-text="pizza.size"></h3>
          <h3 x-text="pizza.type"></h3>
          <h3 x-text="pizza.price"></h3>
          <button class="buy" @click="buy(pizza.pizza_id)">BUY</button>
        </div>
      </template>
     
  </div> 
   

    <div class="pizzaList"  style="margin-top:30px;margin-bottom:30px" x-show="showMenu">
      <template x-for="pizza in pizzas">
        <div>
          <li>
          	<span><img src="pizza2.png"  alt="pizza image" style="width:100px"/></span>
          
            <spanx-text="pizza.flavour"></span>
            <span x-text="pizza.size"></span>
            <span x-text="pizza.price"></span>
 
             <button class="buyList" @click="buy(pizza.id)">BUY</button>
       </li>
      </div>
      </template>
    </div>
    </div>
    </div>

    <div class="footer">


      <div class="contact">

        <div id="one">

          <p><b>Contact Us at: (021)-541-1000
              <br />twitter<br />/facebook<br>
              /instagram
              </br>
            </b>

          </p>

        </div>

        <div id="two">
          <p><b>Pizza Plazza<br />
              Dough Rooad<br>
              Base Town</b></p>
        </div>

      </div>

      <p><b>@perfect pizza</b></p>

    </div>
  </div>
  </div>


  </div>


</body>
<script src="./js/index.js" charset="UTF-8">



</script>

</html>